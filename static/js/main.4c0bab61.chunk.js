(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var n=c(8),s=c.n(n),o=c(7),r=c(2),i=c(1),l=(c(14),c(15),c(9)),a=c(6),u=c.n(a),d=(c(16),c(0)),j=function(e){var t=e.todos,c=e.selectUser,n=e.selectedUserId,s=e.randomizeTodos,o=e.toggleComplete,a=Object(i.useState)(""),j=Object(r.a)(a,2),b=j[0],m=j[1],h=Object(i.useState)("all"),p=Object(r.a)(h,2),O=p[0],f=p[1],_=Object(i.useState)(!0),x=Object(r.a)(_,2),N=x[0],g=x[1],v=Object(l.a)(t).filter((function(e){var t=e.title.toLowerCase().includes(b.toLowerCase()),c=e.id.toString().includes(b.toString());return t||c})).filter((function(e){switch(O){case"completed":return!0===e.completed;case"not-completed":return!1===e.completed;case"not-set":return null===e.completed;default:return e}}));return Object(i.useEffect)((function(){console.log("TodoList render")}),[N]),Object(d.jsxs)("div",{className:"TodoList",children:[Object(d.jsx)("h2",{children:"Todos: ".concat(v.length)}),Object(d.jsx)("button",{className:"TodoList__randomize-button",type:"button",onClick:function(){s(),g(!N)},children:Object(d.jsx)("p",{children:"\ud83d\udd00 Randomize todos"})}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"TodoList__title-input",type:"text",placeholder:"Search title",onChange:function(e){m(e.target.value)}}),"\xa0",Object(d.jsxs)("select",{className:"TodoList__status-select",onChange:function(e){f(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"Pick status to filter"}),Object(d.jsx)("option",{value:"completed",children:"Complete"}),Object(d.jsx)("option",{value:"not-completed",children:"Not complete"}),Object(d.jsx)("option",{value:"not-set",children:"Not set"})]}),Object(d.jsx)("div",{className:"TodoList__list-container",children:Object(d.jsx)("ul",{className:"TodoList__list",children:v.map((function(e){return Object(d.jsxs)("li",{className:u()("TodoList__item",{"TodoList__item--checked":e.completed,"TodoList__item--unchecked":!e.completed}),children:[Object(d.jsxs)("label",{htmlFor:e.id.toString(),children:[Object(d.jsx)("input",{id:e.id.toString(),type:"checkbox",checked:e.completed,onChange:function(e){return o(+e.target.id)}}),Object(d.jsx)("p",{children:"".concat(e.id,": ").concat(e.title)})]}),Object(d.jsx)("button",{className:u()("TodoList__user-button","button",{"TodoList__user-button--selected":n===e.userId}),type:"button",onClick:function(){c(e.userId)},children:"select"})]},e.id)}))})})]})},b=function(e,t){return fetch("".concat("https://mate.academy/students-api").concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},m=(c(18),function(e){var t=e.userId,c=e.clearUser,n=Object(i.useState)(null),s=Object(r.a)(n,2),o=s[0],l=s[1];return Object(i.useEffect)((function(){(function(e){return b("/users/".concat(e))})(t).then((function(e){return l(e)}))}),[t]),Object(d.jsx)(d.Fragment,{children:o&&Object(d.jsxs)("div",{className:"CurrentUser",children:[Object(d.jsx)("button",{type:"button",className:"CurrentUser__clear",onClick:c,children:Object(d.jsx)("h2",{className:"CurrentUser__title",children:"Clear Selected user: ".concat(o.id)})}),Object(d.jsx)("h3",{className:"CurrentUser__name",children:o.name}),Object(d.jsx)("p",{className:"CurrentUser__email",children:o.email}),Object(d.jsx)("p",{className:"CurrentUser__phone",children:o.phone})]})})}),h=function(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(i.useState)([]),l=Object(r.a)(s,2),a=l[0],u=l[1],h=function(){b("/todos").then((function(e){return u(e)}))};Object(i.useEffect)((function(){h()}),[]);return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("div",{className:"App__sidebar",children:Object(d.jsx)(j,{todos:a,selectedUserId:c,selectUser:function(e){n(e)},randomizeTodos:function(){u((function(e){return e.sort((function(){return Math.random()-.5}))}))},toggleComplete:function(e){u((function(t){return t.map((function(t){return t.id!==e?t:Object(o.a)(Object(o.a)({},t),{},{completed:!t.completed})}))}))}})}),Object(d.jsx)("div",{className:"App__content",children:Object(d.jsx)("div",{className:"App__content-container",children:c?Object(d.jsx)(m,{userId:c,clearUser:function(){n(null)}}):"No user selected"})})]})};s.a.render(Object(d.jsx)(h,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4c0bab61.chunk.js.map